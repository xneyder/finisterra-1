aws_cloudfront_distribution:
  terraform_module: "../../../terraform-aws-modules/terraform-aws-cloudfront"
  # terraform_module: "github.com/finisterra-io/terraform-aws-cloudfront.git?ref=main"
  terraform_module_version: "6.1.0"
  target_resource_name: this
  fields:
    aliases:
      field: aliases
      type: list
    comment:
      field: comment
      type: string
    default_root_object:
      field: default_root_object
      type: string
    enabled:
      field: enabled
      type: bool
    http_version:
      field: http_version
      type: string
    is_ipv6_enabled:
      field: is_ipv6_enabled
      type: bool
    price_class:
      field: price_class
      type: string
    retain_on_delete:
      field: retain_on_delete
      type: bool
    wait_for_deployment:
      field: wait_for_deployment
      type: bool
    web_acl_id:
      field: web_acl_id
      type: string
    tags:
      field: tags
      type: map
    logging_config:
      field: logging_config
      type: map
    origin:
      function: build_origin
      type: map
    origin_group:
      field: origin_group
      type: list
    default_cache_behavior:
      function: build_default_cache_behavior
      type: map
    ordered_cache_behavior:
      field: ordered_cache_behavior
      type: list
    viewer_certificate:
      function: build_viewer_certificate
      type: map
    custom_error_response:
      field: custom_error_response
      type: list
    geo_restriction:
      function: get_field_from_attrs
      arg: restrictions.geo_restriction
      type: map
  childs:
    aws_cloudfront_origin_access_identity:
      join:
        id:
          join_function: join_origin_access_identity
      target_resource_name: this
      second_index:
        field: id
      fields:
        create_origin_access_identity:
          unique: true
        origin_access_identities:
          function: build_origin_access_identities
